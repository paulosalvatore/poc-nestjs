model User {
  id        Int        @id @default(autoincrement())
  email     String     @unique
  password  String?
  name      String?
  nickname  String?
  cpf       String     @unique @db.VarChar(11)
  phone     String?    @db.VarChar(15)
  gender    Gender?
  birthdate DateTime?
  avatar    String?
  campuses  Campus[]
  role      UserRole[]
  meta      Meta       @relation(fields: [metaId], references: [id])
  metaId    Int
}

model UserRole {
  user   User @relation(fields: [userId], references: [id])
  userId Int
  role   Role

  @@unique([userId, role], name: "unique_user_role")
}

enum Role {
  ADMIN
  STUDENT
  SPEAKER
  RECEPCIONIST
}

model Campus {
  id    Int    @id @default(autoincrement())
  name  String @unique
  users User[]
}

enum Gender {
  MALE
  FEMALE
  OTHER
}
